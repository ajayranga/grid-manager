"use strict";(self.webpackChunkclient2=self.webpackChunkclient2||[]).push([[20],{70020:function(e,r,n){n.r(r),n.d(r,{default:function(){return z}});var a=n(29439),i=n(72791),l=n(11647),t=n(81508),s=n(78711),c=n(45953),o=n(4565),u=n(94162),d=n(34420),h=n(37924),m=n(79365),p=n(83492),x=n(72900),g=n(97856),Z=n(81898),y=n(69724),f=n(24020),j=n(61091),v=n(52791),S=n(59434),D=n(55705),b=n(47103),P=b.Ry({name:b.Z_().min(2).max(25).required("Please enter your name"),criteria:b.Z_().required().oneOf(["greater","less"]),value:b.Rx().integer().positive().max(100).required("Please enter value"),alertDays:b.IX().required("Choose at least one day"),priceSignal:b.Z_().required().oneOf(["Dk-1","Dk-2","Dk-Gas"]),email:b.Z_().email().required("Please enter your email"),phone:b.Z_().matches(/^[0-9]*$/,"Phone number can only contain digits").max(10).required("Please enter your phone number"),submit:null}),k=n(70474),B=n(33333),C=n(80184);function z(){var e=(0,B.iy)().actions,r=(0,i.useState)(!1),n=(0,a.Z)(r,2),b=n[0],z=n[1],W=(0,S.I0)(),w=(0,S.v9)(k.mU),q=(0,S.v9)(k.zh);(0,i.useEffect)((function(){(""!==q||w)&&z(!0)}),[q,w]);var E=(0,D.TA)({initialValues:{name:"",criteria:"greater",value:0,alertDays:["Monday"],priceSignal:"Dk-1",email:"",phone:"",submit:null},validationSchema:P,validateOnChange:!0,validateOnBlur:!0,onSubmit:function(r,n){W(e.start({name:r.name,phone:r.phone,email:r.email,criteria:r.criteria,value:r.value,alertDays:r.alertDays,priceSignal:r.priceSignal}))}}),A=E.values,I=E.handleBlur,O=E.handleChange,_=E.handleSubmit,F=E.errors,G=E.touched;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(v.Z,{component:"main",sx:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(l.Z,{open:b,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:6e3,onClose:function(){z(!1),W(e.reset())},children:(0,C.jsxs)(t.Z,{severity:q?"error":w?"success":"info",color:q?"error":w?"success":"info",variant:"outlined",sx:{minWidth:"250px"},children:[(0,C.jsx)(s.Z,{children:q?"Error":w?"Congratulations":""}),q||(w?"Saved Successfully":"")]})}),(0,C.jsx)("form",{onSubmit:_,style:{margin:"auto",padding:"20px 16px"},children:(0,C.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,C.jsx)(c.ZP,{item:!0,xs:12,children:(0,C.jsx)(o.Z,{variant:"h4",component:"h4",children:"Create Alert"})}),(0,C.jsx)(c.ZP,{item:!0,xs:12,children:(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(d.Z,{id:"name",type:"name",value:A.name,name:"name",size:"medium",placeholder:"name",fullWidth:!0,onBlur:I,onChange:O,error:Boolean(G.name&&F.name)}),G.name&&F.name&&(0,C.jsx)(h.Z,{error:!0,children:F.name})]})}),(0,C.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,C.jsx)(m.Z,{htmlFor:"criteria",children:"Criteria"}),(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsxs)(p.Z,{row:!0,name:"criteria",value:A.criteria,onBlur:I,onChange:O,children:[(0,C.jsx)(x.Z,{value:"greater",control:(0,C.jsx)(g.Z,{}),label:"Greater than"}),(0,C.jsx)(x.Z,{value:"less",control:(0,C.jsx)(g.Z,{}),label:"Less than"})]}),G.criteria&&F.criteria&&(0,C.jsx)(h.Z,{error:!0,children:F.criteria})]})]}),(0,C.jsx)(c.ZP,{item:!0,xs:12,children:(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(d.Z,{id:"value",type:"number",value:A.value,name:"value",onBlur:I,onChange:O,size:"medium",placeholder:"value",fullWidth:!0,error:Boolean(G.value&&F.value)}),G.value&&F.value&&(0,C.jsx)(h.Z,{error:!0,children:F.value})]})}),(0,C.jsx)(c.ZP,{item:!0,xs:12,children:(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsxs)(Z.Z,{children:[(0,C.jsx)(m.Z,{id:"alert-Days",children:"Day"}),(0,C.jsx)(y.Z,{labelId:"alert-Days",id:"alertDays",name:"alertDays",multiple:!0,value:A.alertDays,onChange:O,fullWidth:!0,size:"medium",input:(0,C.jsx)(d.Z,{label:"Days"}),onBlur:I,error:Boolean(G.alertDays&&F.alertDays),children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e){return(0,C.jsx)(f.Z,{value:e,children:e},e)}))})]}),G.alertDays&&F.alertDays&&(0,C.jsx)(h.Z,{error:!0,children:F.alertDays})]})}),(0,C.jsx)(c.ZP,{item:!0,xs:12,children:(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsxs)(Z.Z,{children:[(0,C.jsx)(m.Z,{id:"price-Signal",children:"Price Signal"}),(0,C.jsx)(y.Z,{labelId:"price-Signal",id:"priceSignal",name:"priceSignal",value:A.priceSignal,fullWidth:!0,size:"medium",input:(0,C.jsx)(d.Z,{label:"Price Signal"}),onBlur:I,onChange:O,error:Boolean(G.priceSignal&&F.priceSignal),children:["Dk-1","Dk-2","Dk-Gas"].map((function(e){return(0,C.jsx)(f.Z,{value:e,children:e},e)}))})]}),G.priceSignal&&F.priceSignal&&(0,C.jsx)(h.Z,{error:!0,children:F.priceSignal})]})}),(0,C.jsx)(c.ZP,{item:!0,xs:12,children:(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(d.Z,{id:"email",type:"email",value:A.email,name:"email",onBlur:I,onChange:O,size:"medium",placeholder:"Email address",fullWidth:!0,error:Boolean(G.email&&F.email)}),G.email&&F.email&&(0,C.jsx)(h.Z,{error:!0,children:F.email})]})}),(0,C.jsx)(c.ZP,{item:!0,xs:12,children:(0,C.jsxs)(u.Z,{spacing:1,children:[(0,C.jsx)(d.Z,{id:"phone",type:"phone",value:A.phone,name:"phone",onBlur:I,onChange:O,size:"medium",placeholder:"Phone Number",fullWidth:!0,error:Boolean(G.phone&&F.phone)}),G.phone&&F.phone&&(0,C.jsx)(h.Z,{error:!0,children:F.phone})]})}),F.submit&&(0,C.jsx)(c.ZP,{item:!0,xs:12,children:(0,C.jsx)(h.Z,{error:!0,children:F.submit})}),(0,C.jsx)(c.ZP,{item:!0,children:(0,C.jsx)(j.Z,{size:"large",type:"submit",variant:"contained",color:"primary",sx:{pl:5,pr:5},children:"Submit"})})]})})]})})}},33333:function(e,r,n){n.d(r,{iy:function(){return p},G6:function(){return m},E3:function(){return d}});var a=n(96382),i=n(22656),l=n(74165),t=n(7780),s=n(42249),c=n(96369),o=(0,l.Z)().mark((function e(r){var n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,t.gw)(10),e.prev=1,n="/api/alert",e.next=5,(0,t.Ys)(c.rK);case 5:if(""!==(a=e.sent)){e.next=11;break}return e.next=9,(0,t.gz)(m.failed("No Token found"));case 9:e.next=15;break;case 11:return e.next=13,(0,t.RE)(s.W,n,{method:"post",headers:{Authorization:"Bearer ".concat(a)},data:{name:r.payload.name,phone:r.payload.phone,email:r.payload.email,criteria:r.payload.criteria,value:r.payload.value,alertDays:r.payload.alertDays,priceSignal:r.payload.priceSignal}});case 13:return e.next=15,(0,t.gz)(m.success());case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(1),e.next=22,(0,t.gz)(m.failed(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message));case 22:case"end":return e.stop()}}),e,null,[[1,17]])})),u=(0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,t.Fm)(m.start.type,o);case 2:case"end":return e.stop()}}),e)})),d={loading:!1,error:"",success:!1},h=(0,a.oM)({name:"createAlert",initialState:d,reducers:{start:function(e,r){e.loading=!0},success:function(e,r){e.error="",e.loading=!1,e.success=!0},failed:function(e,r){e.error=r.payload,e.loading=!1},reset:function(e,r){e.error="",e.loading=!1,e.success=!1}}}),m=h.actions,p=(h.reducer,function(){return(0,i.vp)({key:h.name,reducer:h.reducer}),(0,i.hb)({key:h.name,saga:u}),{actions:h.actions}})},70474:function(e,r,n){n.d(r,{NH:function(){return t},mU:function(){return c},zh:function(){return s}});var a=n(46916),i=n(33333),l=function(e){return e.createAlert||i.E3},t=(0,a.P1)([l],(function(e){return e.loading})),s=(0,a.P1)([l],(function(e){return e.error})),c=(0,a.P1)([l],(function(e){return e.success}))}}]);
//# sourceMappingURL=20.c51f2bce.chunk.js.map